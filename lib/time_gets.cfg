# Orca configuration file timing HTTP GETs.

base_dir		@RRD_DIR@/time_gets
state_file		orca.state
html_dir		@HTML_DIR@/time_gets
expire_gifs		1

# Find files at the following times:
#    0:10 to pick up new percollator files for the new day.
#    1:00 to pick up late comer percollator files for the new day.
#    6:00 to pick up new files before the working day.
#   12:00 to pick up new files during the working day.
#   19:00 to pick up new files after the working day.
find_times		0:10 1:00 6:00 12:00 19:00

# This defines the email address of people to warn when a file that is
# being updated constantly stops being updated.  For mathematical
# expressions use the word interval to get the interval number for
# the data source.
warn_email		root@localhost
late_interval		interval + 30

# This defines where the find the source data files and the format of those
# files.
files time_gets {
find_files		/home/bzajac/time_gets/(.*)/data.\d{8}
column_description	first_line
date_source		column_name timestamp
date_format		%s
interval		300
reopen			1
}

html_top_title		GeoCities Host Status

html_page_header
  <table border=0 cellspacing=0 cellpadding=0 width="100%">
    <tr>
      <td><a href="http://www.geocities.com">
          <img border=0 alt="GeoCities"
           src="http://pic.geocities.com/images/main/hp/logo_top.gif"
           width=126 height=58></a>
      </td>
    </tr>
    <tr>
      <td><a href="http://www.geocities.com">
          <img border=0 alt="GeoCities"
           src="http://pic.geocities.com/images/main/hp/tagline.gif"
           width=124 height=36></a>
      </td>
    </tr>
  </table>
  <spacer type=vertical size=4>

html_page_footer
  <spacer type=vertical size=20>
  <font face="Arial,Helvetica">
    These plots brought to you by your local system administrator.
  </font>

plot {
title			%g Average # Processes in Run Queue
source			percol
data			1runq
data			5runq
data			15runq
legend			1 Minute Average
legend			5 Minute Average
legend			15 Minute Average
y_legend		# Processes
data_min		0
data_max		100
}

plot {
title			%g System Load
source			percol
data			1load
data			5load
data			15load
legend			1 Minute Average
legend			5 Minute Average
legend			15 Minute Average
y_legend		Load
data_min		0
data_max		200
}

plot {
title			%g Number of System & Httpd Processes
source			percol
data			#proc
data			#httpds
line_type		line1
line_type		area
legend			System total
legend			Number httpds
y_legend		# Processes
data_min		0
data_max		10000
}

plot {
title			%g CPU Usage
source			percol
data			usr%
data			sys%
data			100 - usr% - sys%
legend			User
legend			System
legend			Idle
line_type		area
line_type		stack
line_type		stack
y_legend		Percent
data_min		0
data_max		100
plot_min		0
plot_max		100
rigid_min_max		1
}

plot {
title			%g Web Server Hit Rate
source			percol
data			httpop/s
data			http/p5s
legend			5 minute average hits/s
legend			Peak 5 second interval hits/s
y_legend		Hits/second
data_min		0
optional
}

plot {
title			%g Web Server File Size
source			percol
data			%to1KB
data			%to10KB
data			%to100KB
data			%to1MB
data			%over1MB
line_type		area
line_type		stack
line_type		stack
line_type		stack
line_type		stack
legend			0 - 1 KB
legend			1 - 10 KB
legend			10 - 100 KB
legend			100 - 1000 KB
legend			Greater than 1 MB
y_legend		Percent
data_min		0
data_max		100
plot_min		0
plot_max		100
rigid_min_max		1
}

plot {
title			%g Web Server Data Transfer Rate
source			percol
data			httpb/s
legend			Bytes/s
y_legend		Bytes/s
data_min		0
}

plot {
title			%g Web Server HTTP Error Rate
source			percol
data			htErr/s
legend			HTTP Errors/s
y_legend		Errors/s
data_min		0
}

plot {
title			%g Bits Per Second: be0
source			percol
data			1024 * 8 * be0InKB/s
data			1024 * 8 * be0OuKB/s
line_type		area
legend			Input
legend			Output
y_legend		bits/s
data_min		0
data_max		100000000
optional
}

plot {
title			%g Bits Per Second: hme0
source			percol
data			1024 * 8 * hme0InKB/s
data			1024 * 8 * hme0OuKB/s
line_type		area
legend			Input
legend			Output
y_legend		bits/s
data_min		0
data_max		100000000
optional
}

plot {
title			%g Bits Per Second: hme1
source			percol
data			1024 * 8 * hme1InKB/s
data			1024 * 8 * hme1OuKB/s
line_type		area
legend			Input
legend			Output
y_legend		bits/s
data_min		0
data_max		100000000
optional
}

plot {
title			%g Bits Per Second: hme2
source			percol
data			1024 * 8 * hme2InKB/s
data			1024 * 8 * hme2OuKB/s
line_type		area
legend			Input
legend			Output
y_legend		bits/s
data_min		0
data_max		100000000
optional
}

plot {
title			%g Bits Per Second: le0
source			percol
data			1024 * 8 * le0InKB/s
data			1024 * 8 * le0OuKB/s
line_type		area
legend			Input
legend			Output
y_legend		bits/s
data_min		0
data_max		10000000
optional
}

plot {
title			%g Bits Per Second: le1
source			percol
data			1024 * 8 * le1InKB/s
data			1024 * 8 * le1OuKB/s
line_type		area
legend			Input
legend			Output
y_legend		bits/s
data_min		0
data_max		10000000
optional
}

plot {
title			%g Packets Per Second: $1
source			percol
data			(.*\d)Ipkt/s
data			$1Opkt/s
line_type		area
legend			Input
legend			Output
y_legend		Packets/s
data_min		0
data_max		100000
flush_regexps		1
}

plot {
title			%g Errors Per Second: $1
source			percol
data			(.*\d)IErr/s
data			$1OErr/s
line_type		area
legend			Input
legend			Output
y_legend		Errors/s
data_min		0
flush_regexps		1
}

plot {
title			%g Ethernet Nocanput Rate
source			percol
data			(.*\d)NoCP/s
legend			$1
y_legend		Nocanput/s
data_min		0
flush_regexps		1
}

plot {
title			%g Ethernet Deferred Packet Rate
source			percol
data			(.*\d)Defr/s
legend			$1
y_legend		Defers/s
data_min		0
flush_regexps		1
}

plot {
title			%g Ethernet Collisions
source			percol
data			(.*\d)Coll%
legend			$1
y_legend		Percent
data_min		0
data_max		200
flush_regexps		1
}

plot {
title			%g TCP Bits Per Second
source			percol
data			1024 * 8 * tcp_InKB/s
data			1024 * 8 * tcp_OuKB/s
line_type		area
legend			Input
legend			Output
y_legend		bits/s
data_min		0
data_max		1000000000
}

plot {
title			%g TCP Segments Per Second
source			percol
data			tcp_Iseg/s
data			tcp_Oseg/s
line_type		area
legend			Input
legend			Output
y_legend		Segments/s
data_min		0
data_max		20000
}

plot {
title			%g TCP Retransmission & Duplicate Received Percentage
source			percol
data			tcp_Ret%
data			tcp_Dup%
legend			Retransmission
legend			Duplicate Received
y_legend		Percent
data_min		0
data_max		200
}

plot {
title			%g TCP New Connection Rate
source			percol
data			tcp_Icn/s
data			tcp_Ocn/s
legend			Input - Passive
legend			Output - Active
y_legend		Connections/s
data_min		0
data_max		10000
}

plot {
title			%g TCP Number Open Connections
source			percol
data			tcp_estb
legend			Number Open TCP Connections
y_legend		Number Open Connections
data_min		0
data_max		50000
}

plot {
title			%g TCP Reset Rate
source			percol
data			tcp_Rst/s
legend			Number TCP Resets/s
y_legend		Resets/s
data_min		0
}

plot {
title			%g TCP Attempt Fail Rate
source			percol
data			tcp_Atf/s
legend			TCP Attempt Fails/s
y_legend		Atf/s
data_min		0
}

plot {
title			%g TCP Listen Drop Rate
source			percol
data			tcp_Ldrp/s
data			tcp_LdQ0/s
data			tcp_HOdp/s
legend			TCP Listen Drops
legend			TCP Listen Drop Q0
legend			TCP Half Open Drops
data_min		0
}

plot {
title			%g Sleeps on Mutex Rate
source			percol
data			smtx
data			smtx/cpu
legend			Sleeps on mutex
legend			Sleeps on mutex/cpu
y_legend		Smtx/s
data_min		0
}

plot {
title			%g NFS Call Rate
source			percol
data			nfs_call/s
legend			NFS Calls/s
y_legend		Calls/s
data_min		0
}

plot {
title			%g NFS Timeouts & Bad Transmits Rate
source			percol
data			nfs_timo/s
data			nfs_badx/s
legend			NFS Timeouts
legend			Bad Transmits
y_legend		Count/s
data_min		0
}

plot {
title			%g Peak & Mean Disk Busy
source			percol
data			disk_peak
data			disk_mean
line_type		line1
line_type		area
legend			Peak Disk Busy
legend			Mean Disk Busy
y_legend		Disk Busy Measure
data_min		0
}

plot {
title			%g Cache Hit Percentages
source			percol
data			dnlc_hit%
data			inod_hit%
legend			DNLC
legend			Inode Cache
y_legend		Percent
data_min		0
data_max		100
}

plot {
title			%g Cache Reference Rate
source			percol
data			dnlc_ref/s
data			inod_ref/s
line_type		line1
line_type		area
legend			DNLC
legend			Inode Cache
y_legend		References/s
data_min		0
}

plot {
title			%g Inode Steal Rate
source			percol
data			inod_stl/s
legend			Inode w/page steal rate
y_legend		Steals/s
data_min		0
}

plot {
title			%g Available Swap Space
source			percol
data			1024 * swap_avail
legend			Available Swap Space
y_legend		Bytes
data_min		0
}

plot {
title			%g Page Residence Time
source			percol
data			page_rstim
legend			Page Residence Time
y_legend		Seconds
data_min		0
}

plot {
title			%g Page Usage
source			percol
data			pp_kernel
data			free_pages
data			pagestotl - pp_kernel - free_pages
data			pagestotl
line_type		area
line_type		stack
line_type		stack
line_type		line2
legend			Kernel
legend			Free List
legend			Other
legend			System Total
y_legend		Number of Pages
data_min		0
plot_min		0
color			00ff00
color			ff0000
color			0000ff
}

plot {
title			%g Pages Locked & IO
source			percol
data			pageslock
data			pagesio
legend			Locked
legend			IO
y_legend		Number of Pages
data_min		0
plot_min		0
}
